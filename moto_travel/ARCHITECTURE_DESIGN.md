# æ‘©æ—…æ™ºèƒ½åŠ©æ‰‹æ¶æ„é‡æ„è®¾è®¡

## ğŸ“ æ–°æ¶æ„è®¾è®¡

### æ¶æ„åŸåˆ™
1. **æ¨¡å—åŒ–**: æ¯ä¸ªå¤§åŠŸèƒ½ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„Agentæ¨¡å—
2. **è‡ªåŒ…å«**: æ¯ä¸ªAgentåŒ…å«è‡ªå·±çš„toolså’Œé€»è¾‘
3. **A2Aåè®®**: Agentä¹‹é—´é€šè¿‡æ ‡å‡†åè®®é€šä¿¡
4. **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°çš„Agentå’ŒåŠŸèƒ½

### ç›®å½•ç»“æ„

```
moto_travel/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ agent.py          # AgentåŸºç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ a2a_protocol.py   # A2Aåè®®å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ message.py        # æ¶ˆæ¯å®šä¹‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ route_planning/       # è·¯å¾„è§„åˆ’Agent
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ agent.py
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ amap_tool.py      # é«˜å¾·åœ°å›¾å·¥å…·
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ baidu_tool.py     # ç™¾åº¦åœ°å›¾å·¥å…·
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route_analyzer.py # è·¯çº¿åˆ†æå·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ strategies/
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â”œâ”€â”€ moto_route_strategy.py  # æ‘©æ—…è·¯çº¿ç­–ç•¥
â”‚   â”‚   â”‚       â””â”€â”€ route_merger.py         # è·¯çº¿åˆå¹¶ç­–ç•¥
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ weather/              # å¤©æ°”æŸ¥è¯¢Agent
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ agent.py
â”‚   â”‚   â”‚   â””â”€â”€ tools/
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â””â”€â”€ weather_tool.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ poi/                  # POIæŸ¥è¯¢Agent
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ agent.py
â”‚   â”‚   â”‚   â””â”€â”€ tools/
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â”œâ”€â”€ poi_tool.py
â”‚   â”‚   â”‚       â””â”€â”€ policy_checker.py  # ç¦æ‘©æ”¿ç­–æ£€æŸ¥
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ coordinator/          # åè°ƒAgent
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ agent.py          # ä¸»åè°ƒAgent
â”‚   â”‚       â””â”€â”€ orchestrator.py   # å·¥ä½œæµç¼–æ’
â”‚   â”‚
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ ...
```

## ğŸ”Œ A2Aåè®®è®¾è®¡

### æ¶ˆæ¯æ ¼å¼

```python
{
    "from": "agent_name",
    "to": "agent_name",
    "type": "request|response|notification",
    "action": "action_name",
    "payload": {...},
    "metadata": {
        "request_id": "uuid",
        "timestamp": "iso_datetime",
        "priority": "high|normal|low"
    }
}
```

### æ”¯æŒçš„Actionç±»å‹

1. **route_planning**
   - `plan_route`: è§„åˆ’è·¯çº¿
   - `analyze_route`: åˆ†æè·¯çº¿
   - `merge_routes`: åˆå¹¶è·¯çº¿

2. **weather**
   - `get_weather`: è·å–å¤©æ°”
   - `get_forecast`: è·å–é¢„æŠ¥
   - `check_weather_risk`: æ£€æŸ¥å¤©æ°”é£é™©

3. **poi**
   - `search_poi`: æœç´¢POI
   - `check_policy`: æ£€æŸ¥æ”¿ç­–
   - `find_gas_stations`: æŸ¥æ‰¾åŠ æ²¹ç«™

## ğŸï¸ æ‘©æ—…ä¸“ç”¨åŠŸèƒ½

### è·¯å¾„è§„åˆ’ç‰¹æ®Šè€ƒè™‘

1. **ç¦æ‘©åŒºåŸŸæ£€æµ‹**
   - æŸ¥è¯¢åŸå¸‚ç¦æ‘©æ”¿ç­–
   - æ ‡è®°ç¦æ‘©è·¯æ®µ
   - æä¾›ç»•è¡Œå»ºè®®

2. **é“è·¯ç±»å‹åå¥½**
   - ä¼˜å…ˆé€‰æ‹©å›½é“ã€çœé“
   - é¿å¼€é«˜é€Ÿå…¬è·¯ï¼ˆæ‘©æ‰˜è½¦é™åˆ¶ï¼‰
   - è€ƒè™‘é£æ™¯è·¯çº¿

3. **åŠ æ²¹ç«™è§„åˆ’**
   - æ¯200-300kmè§„åˆ’åŠ æ²¹ç«™
   - æ ‡è®°24å°æ—¶åŠ æ²¹ç«™
   - è€ƒè™‘æ²¹å“è´¨é‡

4. **è·¯çº¿å¯¹æ¯”åˆ†æ**
   - ç»¼åˆé«˜å¾·å’Œç™¾åº¦åœ°å›¾ç»“æœ
   - å¯¹æ¯”è·ç¦»ã€æ—¶é—´ã€è·¯å†µ
   - ç»™å‡ºä¸­è‚¯å»ºè®®

## ğŸ”„ AgentååŒæµç¨‹

```
ç”¨æˆ·è¯·æ±‚
    â†“
Coordinator Agent (åè°ƒAgent)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Route Planning Agent        â”‚
â”‚     - è°ƒç”¨é«˜å¾·åœ°å›¾               â”‚
â”‚     - è°ƒç”¨ç™¾åº¦åœ°å›¾               â”‚
â”‚     - è·¯çº¿å¯¹æ¯”åˆ†æ               â”‚
â”‚     - æ‘©æ—…è·¯çº¿ä¼˜åŒ–               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Weather Agent               â”‚
â”‚     - æŸ¥è¯¢æ²¿é€”å¤©æ°”               â”‚
â”‚     - å¤©æ°”é£é™©è¯„ä¼°               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. POI Agent                   â”‚
â”‚     - æŸ¥æ‰¾åŠ æ²¹ç«™                 â”‚
â”‚     - æ£€æŸ¥ç¦æ‘©æ”¿ç­–               â”‚
â”‚     - æŸ¥æ‰¾æœåŠ¡è®¾æ–½               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
ç»“æœæ•´åˆ
    â†“
è¿”å›ç»™ç”¨æˆ·
```

## ğŸ“‹ å®ç°è®¡åˆ’

### Phase 1: åŸºç¡€æ¶æ„
- [x] è®¾è®¡A2Aåè®®
- [ ] åˆ›å»ºæ–°çš„ç›®å½•ç»“æ„
- [ ] å®ç°AgentåŸºç±»
- [ ] å®ç°A2Aé€šä¿¡æœºåˆ¶

### Phase 2: è·¯å¾„è§„åˆ’Agent
- [ ] é›†æˆç™¾åº¦åœ°å›¾API
- [ ] å®ç°è·¯çº¿å¯¹æ¯”åˆ†æ
- [ ] å®ç°æ‘©æ—…è·¯çº¿ç­–ç•¥
- [ ] å®ç°è·¯çº¿åˆå¹¶ç®—æ³•

### Phase 3: å¤©æ°”å’ŒPOI Agent
- [ ] é‡æ„å¤©æ°”Agent
- [ ] é‡æ„POI Agent
- [ ] å®ç°ç¦æ‘©æ”¿ç­–æ£€æŸ¥
- [ ] å®ç°åŠ æ²¹ç«™è§„åˆ’

### Phase 4: åè°ƒå’Œé›†æˆ
- [ ] å®ç°Coordinator Agent
- [ ] å®ç°å·¥ä½œæµç¼–æ’
- [ ] é›†æˆæµ‹è¯•

